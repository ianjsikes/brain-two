# RPi Plex Server Notes

connect:
`ssh pi@192.168.1.142`
pwd: mambomouth420

[[computers]]

Notes on steps taken to setup Raspberry Pi as a Plex media server.

- Format SD card and install Raspbian using Raspberry Pi Imager
- Hook it up to monitor & keyboard to do initial setup of wifi and ssh
  - It should be possible to skip this by adding a `ssh` file and a `wpa_supplicant.conf`
    in the sd card root, but I had trouble getting it working.
- Upgrade stuff
- Configure external hard drive [link](https://pimylifeup.com/raspberry-pi-mount-usb-drive/) [other link](https://medium.com/@aallan/adding-an-external-disk-to-a-raspberry-pi-and-sharing-it-over-the-network-5b321efce86a)
- Install Plex
- Install and setup openvpn and network killswitch [link](https://gist.github.com/superjamie/ac55b6d2c080582a3e64)
- Share external drive over Samba [link](https://pimylifeup.com/raspberry-pi-samba/)
- Setup Transmission [link](https://pimylifeup.com/raspberry-pi-transmission/)
- Install filebot and setup w/ Transmission [link](https://www.filebot.net/forums/viewtopic.php?f=4&t=215#p3380)

OH NO: plex not available for remote access because vpn blocks it. I tried to set up "split tunnel" to create separate sys user (used by transmission) and route all its traffic through vpn, but it didn't work. probably because i have no idea wtf i am doing when it comes networking. instead i am going to try running transmission inside this docker container https://haugene.github.io/docker-transmission-openvpn/

- Create custom docker image extending the one above, and installing Filebot
- Add a pre-transmission-setup script to the container to register the Filebot license
- Filebot can't communicate from within docker to the Plex instance running outside of docker
  - Can't give the container the 32400 port to access it, because Plex is already hogging it

[//begin]: # "Autogenerated link references for markdown compatibility"
[computers]: computers "Computers"
[//end]: # "Autogenerated link references"
